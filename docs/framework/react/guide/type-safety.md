# íƒ€ì… ì•ˆì „ì„±

TanStack RouterëŠ” TypeScript ì»´íŒŒì¼ëŸ¬ì™€ ëŸ°íƒ€ì„ì˜ í•œê³„ ë‚´ì—ì„œ ìµœëŒ€í•œ íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¨ìˆœíˆ TypeScriptë¡œ ì‘ì„±ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ë„˜ì–´ì„œ, **ì œê³µëœ íƒ€ì…ì„ ì™„ì „íˆ ì¶”ë¡ í•˜ê³  ì´ë¥¼ ë¼ìš°íŒ… ì „ë°˜ì— ê±¸ì³ ì² ì €íˆ ì „ë‹¬í•œë‹¤**ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ, ì—¬ëŸ¬ë¶„ì€ **ê°œë°œìë¡œì„œ ë” ì ì€ íƒ€ì…ì„ ì‘ì„±**í•˜ê²Œ ë˜ê³ , ì½”ë“œê°€ ë°œì „í•¨ì— ë”°ë¼ **ë” í° í™•ì‹ ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤**.


## Route Definitions





### íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…

ë¼ìš°íŠ¸ëŠ” ê³„ì¸µì  êµ¬ì¡°ë¥¼ ê°€ì§€ë©°, ì´ëŠ” ë¼ìš°íŠ¸ ì •ì˜ì—ì„œë„ ë™ì¼í•˜ê²Œ ì ìš©ë©ë‹ˆë‹¤. íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…ì„ ì‚¬ìš©í•˜ë©´ íƒ€ì… ì•ˆì „ì„±(type-safety)ì˜ ë§ì€ ë¶€ë¶„ì´ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.


### ì½”ë“œ ê¸°ë°˜ ë¼ìš°íŒ…

`Route` í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, `Route`ì˜ `getParentRoute` ì˜µì…˜ì„ í†µí•´ ë¼ìš°íŠ¸ íƒ€ì…ì„ ì˜¬ë°”ë¥´ê²Œ ì§€ì •í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ìì‹ ë¼ìš°íŠ¸ëŠ” **ëª¨ë“ ** ë¶€ëª¨ ë¼ìš°íŠ¸ì˜ íƒ€ì…ì„ ì¸ì‹í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ë¥¼ í•˜ì§€ ì•Šìœ¼ë©´, ë ˆì´ì•„ì›ƒ ë¼ìš°íŠ¸ì—ì„œ 3ë‹¨ê³„ ìœ„ì—ì„œ íŒŒì‹±í•œ ì¤‘ìš”í•œ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ê°€ JSì˜ ê³µí—ˆ ì†ìœ¼ë¡œ ì‚¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ, ìì‹ ë¼ìš°íŠ¸ì— ë¶€ëª¨ ë¼ìš°íŠ¸ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”!

```tsx
const parentRoute = createRoute({
  getParentRoute: () => parentRoute,
})
```


## ë‚´ë³´ë‚¸ í›…, ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ë¦¬í‹°

ì—¬ëŸ¬ë¶„ì˜ ë¼ìš°í„° íƒ€ì…ì´ `Link`, `useNavigate`, `useParams` ê°™ì€ ìµœìƒìœ„ ë‚´ë³´ë‚´ê¸°ì™€ í•¨ê»˜ ì‘ë™í•˜ë ¤ë©´, ì´ íƒ€ì…ë“¤ì´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆ ê²½ê³„ë¥¼ í†µê³¼í•˜ê³  ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì§ì ‘ ë“±ë¡ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ë‚´ë³´ë‚¸ `Register` ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸ ë³‘í•©(declaration merging)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```ts
const router = createRouter({
  // ...
})

declare module '@tanstack/react-router' {
  interface Register {
    router: typeof router
  }
}
```

ì´ë ‡ê²Œ ë¼ìš°í„°ë¥¼ ëª¨ë“ˆì— ë“±ë¡í•˜ë©´, ë‚´ë³´ë‚¸ í›…, ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ë¦¬í‹°ë¥¼ ì—¬ëŸ¬ë¶„ì˜ ë¼ìš°í„°ì˜ ì •í™•í•œ íƒ€ì…ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## ì»´í¬ë„ŒíŠ¸ ì»¨í…ìŠ¤íŠ¸ ë¬¸ì œ í•´ê²°í•˜ê¸°

ì»´í¬ë„ŒíŠ¸ ì»¨í…ìŠ¤íŠ¸ëŠ” Reactì™€ ê°™ì€ í”„ë ˆì„ì›Œí¬ì—ì„œ ì»´í¬ë„ŒíŠ¸ì— ì˜ì¡´ì„±ì„ ì œê³µí•˜ëŠ” ìœ ìš©í•œ ë„êµ¬ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ì»¨í…ìŠ¤íŠ¸ê°€ ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°ë¥¼ ë”°ë¼ ì´ë™í•˜ë©´ì„œ íƒ€ì…ì´ ë³€ê²½ë˜ë©´, TypeScriptê°€ ì´ëŸ¬í•œ ë³€í™”ë¥¼ ì¶”ë¡ í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ í›…ê³¼ ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ë˜ëŠ” ë°©ì‹ê³¼ ìœ„ì¹˜ì— ëŒ€í•œ íŒíŠ¸ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.

```tsx
export const Route = createFileRoute('/posts')({
  component: PostsComponent,
})

function PostsComponent() {
  // ê° ë¼ìš°íŠ¸ëŠ” TanStack Routerì˜ ë‚´ì¥ í›… ëŒ€ë¶€ë¶„ì— ëŒ€í•´ íƒ€ì… ì•ˆì „í•œ ë²„ì „ì„ ì œê³µí•©ë‹ˆë‹¤.
  const params = Route.useParams()
  const search = Route.useSearch()

  // ì¼ë¶€ í›…ì€ í˜„ì¬ ë¼ìš°íŠ¸ë¿ë§Œ ì•„ë‹ˆë¼ ì „ì²´ ë¼ìš°í„°ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. 
  // íƒ€ì… ì•ˆì „ì„±ì„ ë³´ì¥í•˜ë ¤ë©´, ë¼ìš°íŠ¸ ê³„ì¸µ êµ¬ì¡°ì—ì„œ ìƒëŒ€ì  ìœ„ì¹˜ë¥¼ ì•Œë ¤ì£¼ëŠ” `from` íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.
  const navigate = useNavigate({ from: Route.fullPath })
  // ... ê¸°íƒ€ ì½”ë“œ
}
```

ì»¨í…ìŠ¤íŠ¸ íŒíŠ¸ê°€ í•„ìš”í•œ ëª¨ë“  í›…ê³¼ ì»´í¬ë„ŒíŠ¸ëŠ” `from` íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ íŒŒë¼ë¯¸í„°ì— ë Œë”ë§ ì¤‘ì¸ ë¼ìš°íŠ¸ì˜ IDë‚˜ ê²½ë¡œë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ğŸ§  ë¹ ë¥¸ íŒ: ì»´í¬ë„ŒíŠ¸ê°€ ì½”ë“œ ë¶„í• (code-split)ëœ ê²½ìš°, [getRouteApi í•¨ìˆ˜](./code-splitting.md#manually-accessing-route-apis-in-other-files-with-the-getrouteapi-helper)ë¥¼ ì‚¬ìš©í•˜ì—¬ `Route.fullPath`ë¥¼ ì „ë‹¬í•˜ì§€ ì•Šê³ ë„ íƒ€ì… ì•ˆì „í•œ `useParams()`ì™€ `useSearch()` í›…ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### ë¼ìš°íŠ¸ë¥¼ ëª¨ë¥´ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”? ê³µìœ  ì»´í¬ë„ŒíŠ¸ë¼ë©´ìš”?

`from` ì†ì„±ì€ ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤. ì´ ì†ì„±ì„ ì „ë‹¬í•˜ì§€ ì•Šìœ¼ë©´, ë¼ìš°í„°ê°€ ì‚¬ìš© ê°€ëŠ¥í•œ íƒ€ì…ì„ ìµœëŒ€í•œ ì¶”ì¸¡í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë¼ìš°í„° ë‚´ ëª¨ë“  ë¼ìš°íŠ¸ì˜ íƒ€ì…ì„ í•©ì¹œ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì–»ê²Œ ë©ë‹ˆë‹¤.


### ì˜ëª»ëœ `from` ê²½ë¡œë¥¼ ì „ë‹¬í•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸(TypeScript)ì—ì„œëŠ” ë¬¸ì œì—†ì´ í†µê³¼í•  ìˆ˜ ìˆëŠ” `from` ê²½ë¡œë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œ ëŸ°íƒ€ì„ì—ì„œ ë Œë”ë§ ì¤‘ì¸ ë¼ìš°íŠ¸ì™€ ì¼ì¹˜í•˜ì§€ ì•Šì„ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš°, `from`ì„ ì§€ì›í•˜ëŠ” ê° í›…(hook)ê³¼ ì»´í¬ë„ŒíŠ¸ëŠ” ì—¬ëŸ¬ë¶„ì˜ ê¸°ëŒ€ì™€ ì‹¤ì œ ë Œë”ë§ ì¤‘ì¸ ë¼ìš°íŠ¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ì§€ ê°ì§€í•˜ê³ , ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.


### ë¼ìš°íŠ¸ë¥¼ ëª¨ë¥´ê±°ë‚˜ ê³µìœ  ì»´í¬ë„ŒíŠ¸ë¼ì„œ `from`ì„ ì „ë‹¬í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ëŠ” ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?

ì—¬ëŸ¬ ë¼ìš°íŠ¸ì—ì„œ ê³µìœ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê±°ë‚˜, ë¼ìš°íŠ¸ ë‚´ì— ìˆì§€ ì•Šì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ê²½ìš°ì—ëŠ” `from` ì˜µì…˜ ëŒ€ì‹  `strict: false`ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•  ë¿ë§Œ ì•„ë‹ˆë¼, í˜¸ì¶œí•˜ëŠ” í›…ì— ëŒ€í•´ ì™„í™”ëœ(relaxed) íƒ€ì…ì„ ì œê³µí•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê³µìœ  ì»´í¬ë„ŒíŠ¸ì—ì„œ `useSearch`ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```tsx
function MyComponent() {
  const search = useSearch({ strict: false });
}
```

ì´ ê²½ìš°, `search` ë³€ìˆ˜ëŠ” ë¼ìš°í„° ë‚´ ëª¨ë“  ë¼ìš°íŠ¸ì—ì„œ ê°€ëŠ¥í•œ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°(search params)ì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ íƒ€ì…ì´ ì§€ì •ë©ë‹ˆë‹¤.


## ë¼ìš°í„° ì»¨í…ìŠ¤íŠ¸

ë¼ìš°í„° ì»¨í…ìŠ¤íŠ¸ëŠ” ê¶ê·¹ì ì¸ ê³„ì¸µì  ì˜ì¡´ì„± ì£¼ì…(dependency injection)ìœ¼ë¡œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì€ ë¼ìš°í„°ì™€ ë¼ìš°í„°ê°€ ë Œë”ë§í•˜ëŠ” ëª¨ë“  ë¼ìš°íŠ¸ì— ì»¨í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì»¨í…ìŠ¤íŠ¸ë¥¼ êµ¬ì¶•í•˜ë©´, TanStack RouterëŠ” ë¼ìš°íŠ¸ ê³„ì¸µ êµ¬ì¡°ì™€ í•¨ê»˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë³‘í•©í•˜ì—¬ ê° ë¼ìš°íŠ¸ê°€ ë¶€ëª¨ ë¼ìš°íŠ¸ì˜ ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

`createRootRouteWithContext` íŒ©í† ë¦¬ëŠ” íŠ¹ì • íƒ€ì…ìœ¼ë¡œ ì´ˆê¸°í™”ëœ ìƒˆë¡œìš´ ë¼ìš°í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ëŠ” ë¼ìš°í„°ì— ë™ì¼í•œ íƒ€ì… ê³„ì•½ì„ ì¶©ì¡±í•´ì•¼ í•˜ëŠ” ìš”êµ¬ì‚¬í•­ì„ ë§Œë“¤ë©°, ì „ì²´ ë¼ìš°íŠ¸ íŠ¸ë¦¬ì—ì„œ ì»¨í…ìŠ¤íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ íƒ€ì…í™”ë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.

```tsx
const rootRoute = createRootRouteWithContext()({
  component: App,
})

const routeTree = rootRoute.addChildren([
  // ëª¨ë“  ìì‹ ë¼ìš°íŠ¸ëŠ” ì»¨í…ìŠ¤íŠ¸ì—ì„œ `whateverYouWant`ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŒ
])

const router = createRouter({
  routeTree,
  context: {
    // ì´ì œ ì´ ê°’ì„ ì „ë‹¬í•´ì•¼ í•¨
    whateverYouWant: true,
  },
})
```


## ì„±ëŠ¥ ìµœì í™” ê¶Œì¥ ì‚¬í•­

ì• í”Œë¦¬ì¼€ì´ì…˜ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ TypeScript ê²€ì‚¬ ì‹œê°„ì€ ìì—°ìŠ¤ëŸ½ê²Œ ì¦ê°€í•©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ê·œëª¨ê°€ ì»¤ì¡Œì„ ë•Œ TypeScript ê²€ì‚¬ ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•´ ëª‡ ê°€ì§€ ì£¼ì˜í•  ì ì´ ìˆìŠµë‹ˆë‹¤.


### í•„ìš”í•œ íƒ€ì…ë§Œ ì¶”ë¡ í•˜ì„¸ìš”

í´ë¼ì´ì–¸íŠ¸ ì¸¡ ë°ì´í„° ìºì‹œ(TanStack Query ë“±)ë¥¼ ì‚¬ìš©í•  ë•Œ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê°€ì ¸ì˜¤ëŠ”(prefetch) ê²ƒì€ ì¢‹ì€ íŒ¨í„´ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, TanStack Queryë¥¼ ì‚¬ìš©í•˜ë©´ `loader`ì—ì„œ `queryClient.ensureQueryData`ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¼ìš°íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
export const Route = createFileRoute('/posts/$postId/deep')({
  loader: ({ context: { queryClient }, params: { postId } }) =>
    queryClient.ensureQueryData(postQueryOptions(postId)),
  component: PostDeepComponent,
})

function PostDeepComponent() {
  const params = Route.useParams()
  const data = useSuspenseQuery(postQueryOptions(params.postId))

  return <>
}
```

ì´ ì½”ë“œëŠ” ì‘ì€ ê·œëª¨ì˜ ë¼ìš°íŠ¸ íŠ¸ë¦¬ì—ì„œëŠ” ë¬¸ì œê°€ ì—†ì–´ ë³´ì¼ ìˆ˜ ìˆê³ , íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì„±ëŠ¥ ë¬¸ì œë„ ëˆˆì— ë„ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ê²½ìš°, ë¼ìš°íŠ¸ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠìŒì—ë„ ë¶ˆêµ¬í•˜ê³  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¡œë”ì˜ ë°˜í™˜ íƒ€ì…ì„ ì¶”ë¡ í•´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ ë¡œë” ë°ì´í„°ê°€ ë³µì¡í•œ íƒ€ì…ì´ê³ , ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ë¯¸ë¦¬ ê°€ì ¸ì˜¤ëŠ” ë¼ìš°íŠ¸ê°€ ë§ë‹¤ë©´, ì—ë””í„° ì„±ëŠ¥ì´ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš°, ê°„ë‹¨íˆ ë³€ê²½í•˜ì—¬ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ `Promise<void>`ë¥¼ ì¶”ë¡ í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
export const Route = createFileRoute('/posts/$postId/deep')({
  loader: async ({ context: { queryClient }, params: { postId } }) => {
    await queryClient.ensureQueryData(postQueryOptions(postId))
  },
  component: PostDeepComponent,
})

function PostDeepComponent() {
  const params = Route.useParams()
  const data = useSuspenseQuery(postQueryOptions(params.postId))

  return <>
}
```

ì´ë ‡ê²Œ í•˜ë©´ ë¡œë” ë°ì´í„°ëŠ” ì¶”ë¡ ë˜ì§€ ì•Šê³ , `useSuspenseQuery`ë¥¼ ì²˜ìŒ ì‚¬ìš©í•  ë•Œ ì¶”ë¡ ì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.


### ê°€ëŠ¥í•œ í•œ ê´€ë ¨ëœ ë¼ìš°íŠ¸ë¡œ ë²”ìœ„ë¥¼ ì¢íˆì„¸ìš”

ë‹¤ìŒê³¼ ê°™ì´ `Link`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì„¸ìš”.

```tsx
// ì˜ˆì‹œ ì½”ë“œ
```

**ì´ ì˜ˆì œëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì„±ëŠ¥ì— ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤.** ê·¸ ì´ìœ ëŠ” `search`ê°€ ëª¨ë“  ë¼ìš°íŠ¸ì˜ `search` íŒŒë¼ë¯¸í„°ë¥¼ í¬í•¨í•œ ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ í•´ì„ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” `search` í”„ë¡œí¼í‹°ì— ì „ë‹¬ëœ ê°’ì´ ì´ í° ìœ ë‹ˆì˜¨ íƒ€ì…ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì»¤ì§ˆìˆ˜ë¡, ì´ í™•ì¸ ì‘ì—…ì€ ë¼ìš°íŠ¸ì™€ ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ì˜ ìˆ˜ì— ë¹„ë¡€í•´ ì„ í˜•ì ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ ê²½ìš°ë¥¼ ìµœì í™”í•˜ê¸° ìœ„í•´ ìµœì„ ì„ ë‹¤í–ˆì§€ë§Œ(íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì´ ì‘ì—…ì„ í•œ ë²ˆ ìˆ˜í–‰í•˜ê³  ìºì‹œí•©ë‹ˆë‹¤), ì´ í° ìœ ë‹ˆì˜¨ íƒ€ì…ì— ëŒ€í•œ ì´ˆê¸° í™•ì¸ ì‘ì—…ì€ ë¹„ìš©ì´ ë§ì´ ë“­ë‹ˆë‹¤. ì´ëŠ” `params`ì™€ `useSearch`, `useParams`, `useNavigate` ë“±ì˜ ë‹¤ë¥¸ APIì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ë©ë‹ˆë‹¤.

ëŒ€ì‹ , `from`ì´ë‚˜ `to`ë¥¼ ì‚¬ìš©í•´ ê´€ë ¨ëœ ë¼ìš°íŠ¸ë¡œ ë²”ìœ„ë¥¼ ì¢íˆëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

```tsx
// ì˜ˆì‹œ ì½”ë“œ
```

`to`ë‚˜ `from`ì— ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì „ë‹¬í•´ ê´€ì‹¬ ìˆëŠ” ë¼ìš°íŠ¸ë¥¼ ì¢í ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê¸°ì–µí•˜ì„¸ìš”.

```tsx
const from: '/posts/$postId/deep' | '/posts/' = '/posts/'
```

ë˜í•œ `from`ì— ë¸Œëœì¹˜ë¥¼ ì „ë‹¬í•´ í•´ë‹¹ ë¸Œëœì¹˜ì˜ í•˜ìœ„ ë¼ìš°íŠ¸ì—ì„œë§Œ `search`ë‚˜ `params`ë¥¼ í•´ì„í•˜ë„ë¡ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```tsx
const from = '/posts'
```

`/posts`ëŠ” ë™ì¼í•œ `search`ë‚˜ `params`ë¥¼ ê³µìœ í•˜ëŠ” ë§ì€ í•˜ìœ„ ë¼ìš°íŠ¸ë¥¼ ê°€ì§„ ë¸Œëœì¹˜ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### `addChildren`ì˜ ê°ì²´ ë¬¸ë²• ì‚¬ìš©ì„ ê³ ë ¤í•´ë³´ì„¸ìš”

ë¼ìš°íŠ¸ëŠ” `params`, `search`, `loaders`, `context` ë“±ì„ í¬í•¨í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê°’ë“¤ì€ ì™¸ë¶€ ì˜ì¡´ì„±ì„ ì°¸ì¡°í•  ìˆ˜ë„ ìˆê³ , íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì¶”ë¡ ì— ë¶€í•˜ë¥¼ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš°, ë¼ìš°íŠ¸ íŠ¸ë¦¬ë¥¼ ìƒì„±í•  ë•Œ íŠœí”Œ ëŒ€ì‹  ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`createChildren`ë„ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³µì¡í•œ ë¼ìš°íŠ¸ì™€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ê·œëª¨ ë¼ìš°íŠ¸ íŠ¸ë¦¬ì—ì„œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… ì²´í¬ ì†ë„ê°€ í›¨ì”¬ ë¹¨ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„±ëŠ¥ í–¥ìƒì€ í”„ë¡œì íŠ¸ì˜ ê·œëª¨, ì‚¬ìš©í•˜ëŠ” ì™¸ë¶€ ì˜ì¡´ì„±, ê·¸ë¦¬ê³  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ íƒ€ì… ì •ì˜ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

```tsx
const routeTree = rootRoute.addChildren({
  postsRoute: postsRoute.addChildren({ postRoute, postsIndexRoute }),
  indexRoute,
})
```

ì´ ë¬¸ë²•ì€ ì¡°ê¸ˆ ë” ì¥í™©í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ì„±ëŠ¥ì´ ë” ì¢‹ìŠµë‹ˆë‹¤. íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…ì„ ì‚¬ìš©í•˜ë©´ ë¼ìš°íŠ¸ íŠ¸ë¦¬ê°€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ê¸° ë•Œë¬¸ì—, ì¥í™©í•œ ë¼ìš°íŠ¸ íŠ¸ë¦¬ëŠ” í° ë¬¸ì œê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.


### ë‚´ë¶€ íƒ€ì…ì„ ì¢íˆì§€ ì•Šê³  ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”

ì¢…ì¢… ì™¸ë¶€ë¡œ ë…¸ì¶œëœ íƒ€ì…ì„ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ `LinkProps`ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const props: LinkProps = {
  to: '/posts/',
}

return (
  
)
```

**ì´ ë°©ì‹ì€ TypeScript ì„±ëŠ¥ì— ë§¤ìš° ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.** ë¬¸ì œëŠ” `LinkProps`ê°€ íƒ€ì… ì¸ìë¥¼ ë°›ì§€ ì•Šê¸° ë•Œë¬¸ì— ë§¤ìš° í° íƒ€ì…ì´ë¼ëŠ” ì ì…ë‹ˆë‹¤. ì´ íƒ€ì…ì€ ëª¨ë“  `search` íŒŒë¼ë¯¸í„°ì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì¸ `search`ë¥¼ í¬í•¨í•˜ê³ , ëª¨ë“  `params`ì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì¸ `params`ë„ í¬í•¨í•©ë‹ˆë‹¤. ì´ ê°ì²´ë¥¼ `Link`ì™€ ë³‘í•©í•  ë•Œ, ì´ ê±°ëŒ€í•œ íƒ€ì…ì— ëŒ€í•œ êµ¬ì¡°ì  ë¹„êµë¥¼ ìˆ˜í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.

ëŒ€ì‹ , `as const satisfies`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •í™•í•œ íƒ€ì…ì„ ì¶”ë¡ í•˜ê³ , `LinkProps`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ í•˜ë©´ í° íƒ€ì… ê²€ì‚¬ë¥¼ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const props = {
  to: '/posts/',
} as const satisfies LinkProps

return (
  
)
```

ì´ì œ `props`ëŠ” `LinkProps` íƒ€ì…ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, íƒ€ì…ì´ í›¨ì”¬ ë” ì •í™•í•´ì ¸ ê²€ì‚¬ ë¹„ìš©ì´ ì¤„ì–´ë“­ë‹ˆë‹¤. ë˜í•œ `LinkProps`ë¥¼ ì¢í˜€ì„œ íƒ€ì… ê²€ì‚¬ë¥¼ ë” ê°œì„ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```tsx
const props = {
  to: '/posts/',
} as const satisfies LinkProps

return (
  
)
```

ì´ ë°©ì‹ì€ ì¢í˜€ì§„ `LinkProps` íƒ€ì…ì— ëŒ€í•´ ê²€ì‚¬í•˜ê¸° ë•Œë¬¸ì— ë” ë¹ ë¦…ë‹ˆë‹¤.

ë˜í•œ, `LinkProps`ë¥¼ íŠ¹ì • íƒ€ì…ìœ¼ë¡œ ì¢í˜€ì„œ ì»´í¬ë„ŒíŠ¸ì˜ í”„ë¡œí¼í‹°ë‚˜ í•¨ìˆ˜ì˜ ì¸ìë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```tsx
export const myLinkProps = [
  {
    to: '/posts',
  },
  {
    to: '/posts/$postId',
    params: { postId: 'postId' },
  },
] as const satisfies ReadonlyArray

export type MyLinkProps = (typeof myLinkProps)[number]

const MyComponent = (props: { linkProps: MyLinkProps }) => {
  return 
}
```

ì´ ë°©ì‹ì€ ì»´í¬ë„ŒíŠ¸ì—ì„œ `LinkProps`ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ë¹ ë¦…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ `MyLinkProps`ëŠ” í›¨ì”¬ ë” ì •í™•í•œ íƒ€ì…ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ í•´ê²°ì±…ì€ `LinkProps`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , íŠ¹ì • ë¼ìš°íŠ¸ë¡œ ì¢í˜€ì§„ `Link` ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê¸° ìœ„í•´ ì œì–´ì˜ ì—­ì „(Inversion of Control)ì„ ì œê³µí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë Œë” í”„ë¡œí¼í‹°(Render Props)ëŠ” ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ìì—ê²Œ ì œì–´ë¥¼ ì—­ì „ì‹œí‚¤ëŠ” ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.

```tsx
export interface MyComponentProps {
  readonly renderLink: () => React.ReactNode
}

const MyComponent = (props: MyComponentProps) => {
  return {props.renderLink()}
}

const Page = () => {
  return  } />
}
```

ì´ ì˜ˆì œëŠ” ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ìì—ê²Œ ë„¤ë¹„ê²Œì´ì…˜ ìœ„ì¹˜ë¥¼ ì œì–´ë¥¼ ì—­ì „ì‹œì¼°ê¸° ë•Œë¬¸ì— ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤. `Link`ëŠ” ìš°ë¦¬ê°€ ì´ë™í•˜ë ¤ëŠ” ì •í™•í•œ ë¼ìš°íŠ¸ë¡œ ì¢í˜€ì ¸ ìˆìŠµë‹ˆë‹¤.


